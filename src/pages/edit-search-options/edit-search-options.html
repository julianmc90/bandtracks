<!--
  Generated template for the EditSearchOptionsPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar>
    <ion-title>Opciones</ion-title>
    <ion-buttons end>
      <button ion-button icon-only color="light" (click)="saveSearchOptions()">
        <ion-icon name="checkmark"></ion-icon>
      </button>
    </ion-buttons>
  </ion-navbar>

</ion-header>


<ion-content padding>

	<ion-list>

		<ion-item>
			{{distance}} Km<span *ngIf="distance > 1">s</span>
		</ion-item>



		<ion-item>
			  <ion-range [(ngModel)]="distance" min="1" max="10000">
			  </ion-range>
		</ion-item>

		<ion-item>
			
			<ion-label>
				¿Buscar por habilidades?				
			</ion-label>
			<ion-checkbox  item-right  [(ngModel)]="searchByAbilities">
	    	</ion-checkbox>
		</ion-item>

	</ion-list>


	<ion-list *ngIf="searchByAbilities == true">

	 <ion-item *ngFor="let ability of abilities" class="ability-margins">
	    <ion-thumbnail item-start >
	      <img  [src]="ability.ability.img" class="ability-search-options" />
	    </ion-thumbnail>

		<rating [(ngModel)]="ability.level" 
		        readOnly="false" 
		        max="5" 
		        emptyStarIconName="star-outline" 
		        halfStarIconName="star-half" 
		        starIconName="star" 
		        nullable="true" 
		        class="ability-search-stars"
		        > 
		</rating>

	  </ion-item>


	</ion-list>	

	<ion-list>
		<ion-item>
			<ion-label>
				¿Buscar por artistas?				
			</ion-label>
			<ion-checkbox  item-right  [(ngModel)]="searchByArtists">
	    	</ion-checkbox>
		</ion-item>

	</ion-list>

 
	<ion-list *ngIf="searchByArtists == true">

	 	<ion-searchbar
	 	  placeholder="Buscar"
		  [(ngModel)]="termArtists"
		  [showCancelButton]="true"
		  (ionInput)="onSearchEvent($event)"
		  (ionCancel)="onCancelSearch($event)">
		</ion-searchbar>

		
		<div class="margin-tags-a">
			<button 
				[disabled]="artist.disabled != undefined && artist.disabled == true" 
				(click)="addTag(artist)" ion-button small outline  
				*ngFor="let artist of artists"
			>
				{{artist.name}}
		    	&nbsp;
		      <ion-icon name="add"></ion-icon>
		    </button>

		</div>

		<div class="margin-tags-a">
			<button 
				[disabled]="artist.disabled != undefined && artist.disabled == true" 
				(click)="removeTag(artist)" ion-button small outline  
				*ngFor="let artist of artistsSelected"
			>
				{{artist.name}}
		    	&nbsp;
		      <ion-icon name="close"></ion-icon>
		    </button>
		</div>	
	</ion-list>


	<ion-list>
		<ion-item>
			<ion-label>
				¿Buscar por género musical?				
			</ion-label>
			<ion-checkbox  item-right  [(ngModel)]="searchByMusicalGenders">
	    	</ion-checkbox>
		</ion-item>

	</ion-list>


	<ion-list *ngIf="searchByMusicalGenders == true">


	<ion-searchbar
 	  placeholder="Buscar"
	  [(ngModel)]="termMusicalGender"
	  [showCancelButton]="true"
	  (ionInput)="onSearchEventGenderPref($event)"
	  (ionCancel)="onCancelSearchGenderPref($event)">
	</ion-searchbar>


	<div class="margin-tags-g">

		<button 
			[disabled]="gender.disabled != undefined && gender.disabled == true" 
			(click)="addTagGenderPref(gender)" ion-button small outline 
			*ngFor="let gender of genders"
		>
			{{gender.gender}}
	    	&nbsp;
	      <ion-icon name="add"></ion-icon>
	    </button>

	</div>

	<div class="margin-tags-g">
		<button 
				[disabled]="gender.disabled != undefined && gender.disabled == true" 
				(click)="removeTagGenderPref(gender)" ion-button small outline 
				*ngFor="let gender of gendersSelected"
			>
	    		{{gender.gender}}
		    	&nbsp;
		      <ion-icon name="close"></ion-icon>
	    </button>
	</div>
</ion-list>


</ion-content>
